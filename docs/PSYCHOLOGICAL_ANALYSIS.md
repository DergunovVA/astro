# Психологический анализ натальной карты

## Описание

Модуль глубинного психологического анализа, основанный на юнгианской психологии и астрологии (подход Подводного/Андреева).

Анализирует **не очевидные** психологические паттерны:

### 1. **Тени** (Shadows)

Подавленные качества, которые человек не признает в себе.

**Пример:**

```json
{
  "planet": "Mars",
  "sign": "Libra",
  "house": 6,
  "description": "Подавленная агрессия и сексуальность",
  "manifestation": "Подавленное тело (болезнь как сигнал). Через отношения, баланс",
  "work_with": "Признать подавленное качество Mars. Постепенно проявлять в безопасных условиях."
}
```

### 2. **Демоны** (Demons)

Деструктивные паттерны, возникающие из напряженных аспектов (квадратов и оппозиций).

**Специфичные демоны:**

| Аспект         | Демон                 | Проявление                                         |
| -------------- | --------------------- | -------------------------------------------------- |
| Sun □ Saturn   | Демон недостойности   | "Я недостаточно хорош" - хронический перфекционизм |
| Moon □ Saturn  | Демон холодной матери | "Меня не любят" - эмоциональная черствость         |
| Sun □ Pluto    | Демон уничтожения эго | Страх быть уничтоженным, борьба за власть          |
| Mars □ Pluto   | Демон насилия         | Неконтролируемый гнев, саморазрушение              |
| Moon ☍ Neptune | Демон слияния         | Потеря границ, созависимость                       |

**Пример:**

```json
{
  "planet": "Sun-Saturn",
  "aspects": ["square"],
  "description": "Демон недостойности: 'Я недостаточно хорош'",
  "manifestation": "Хронический перфекционизм, страх неудачи, блокировка самовыражения",
  "work_with": "Разделить Я и Достижения. Отцовская фигура (проработать)."
}
```

### 3. **Позывы** (Impulses)

Неосознанные мотивации, компульсивное поведение.

**Усиливается ретроградностью** - паттерн из прошлого.

**Пример:**

```json
{
  "planet": "Venus",
  "sign": "Aquarius",
  "house": 10,
  "description": "Неосознанные манипуляции через обаяние (УСИЛЕНО РЕТРОГРАДНОСТЬЮ)",
  "manifestation": "В карьере, публичности",
  "work_with": "Осознать паттерн через медитацию, терапию, астрологию"
}
```

### 4. **Доказухи** (Proofs)

Компенсаторное поведение - когда планета в слабом положении (падение/изгнание).

**Примеры планет в трудных знаках:**

| Планета   | Знак               | Доказуха                                       |
| --------- | ------------------ | ---------------------------------------------- |
| ☉ Sun     | Aquarius, Libra    | Постоянное доказывание уникальности/значимости |
| ☽ Moon    | Capricorn, Scorpio | "Я справляюсь", доказывание силы чувств        |
| ☿ Mercury | Pisces             | Постоянное доказывание интеллекта              |
| ♀ Venus   | Aries, Virgo       | Доказывание привлекательности/полезности       |
| ♂ Mars    | Cancer, **Libra**  | Доказывание силы/**правоты**                   |
| ♃ Jupiter | Gemini             | Доказывание мудрости                           |
| ♄ Saturn  | Cancer             | Доказывание ответственности                    |

**Пример:**

```json
{
  "planet": "Mars",
  "sign": "Libra",
  "house": 6,
  "description": "Постоянное доказывание правоты",
  "manifestation": "Агрессивная конкуренция, 'я самый сильный'. В работе, здоровье",
  "work_with": "Принять, что нечего доказывать. Ценность изначальна."
}
```

### 5. **Мести** (Revenges)

Обиды, желание компенсировать боль. Возникают когда планеты мести (Pluto, Mars, Saturn, Chiron) имеют напряженные аспекты.

| Планета  | Тип мести                                                                  |
| -------- | -------------------------------------------------------------------------- |
| ♇ Pluto  | Через уничтожение (психологическое/реальное) - долгая стратегическая месть |
| ♂ Mars   | Импульсивная - вспышки гнева, физическая агрессия                          |
| ♄ Saturn | Холодная - "я докажу, что вы ошибались", успех как месть                   |
| ⚷ Chiron | Из раны - причинить ту же боль, цикл передачи травмы                       |

**Пример:**

```json
{
  "planet": "Pluto",
  "sign": "Libra",
  "house": 6,
  "aspects": ["square North Node"],
  "description": "Месть через уничтожение (психологическое или реальное)",
  "manifestation": "Долго помню обиды. Стратегическая месть. 'Око за око'. Через отношения, баланс",
  "work_with": "Прощение = освобождение от яда. Трансформация боли в силу."
}
```

---

## Использование

### Команда `psychology` (детальный анализ)

**Полный анализ:**

```bash
python main.py psychology "8 Jan 1982" "13:40" "Saratov"
```

**Фокус на конкретном типе:**

```bash
# Только тени
python main.py psychology "8 Jan 1982" "13:40" "Saratov" --focus shadow

# Только демоны (внутренние конфликты)
python main.py psychology "8 Jan 1982" "13:40" "Saratov" --focus demon

# Только позывы (неосознанные мотивации)
python main.py psychology "8 Jan 1982" "13:40" "Saratov" --focus impulse

# Только доказухи (компенсаторное поведение)
python main.py psychology "8 Jan 1982" "13:40" "Saratov" --focus proof

# Только мести (обиды)
python main.py psychology "8 Jan 1982" "13:40" "Saratov" --focus revenge
```

### Флаг `--psychological` в команде `natal`

Добавляет психологический анализ к обычному выводу:

```bash
python main.py natal "8 Jan 1982" "13:40" "Saratov" --psychological
```

---

## Структура вывода

```json
{
  "input_metadata": { ... },
  "psychological": {
    "shadows": [
      {
        "type": "shadow",
        "planet": "Sun",
        "sign": "Capricorn",
        "house": 9,
        "aspects": [],
        "description": "Подавленное желание быть в центре внимания",
        "manifestation": "Подавленный поиск смысла. Через статус, достижения",
        "work_with": "Признать подавленное качество Sun. Постепенно проявлять в безопасных условиях."
      },
      ...
    ],
    "demons": [
      {
        "type": "demon",
        "planet": "Sun-Saturn",
        "sign": "",
        "house": 0,
        "aspects": ["square"],
        "description": "Демон недостойности: 'Я недостаточно хорош'",
        "manifestation": "Хронический перфекционизм, страх неудачи",
        "work_with": "Разделить Я и Достижения. Отцовская фигура (проработать)."
      },
      ...
    ],
    "impulses": [...],
    "proofs": [...],
    "revenges": [...]
  }
}
```

---

## Психологическая работа с паттернами

### Для теней:

1. **Признать** подавленное качество
2. **Интегрировать** постепенно в идентичность
3. **Проявлять** в безопасных условиях

### Для демонов:

1. **Осознать** конфликт между планетами
2. **Найти баланс** между противоположностями
3. **Терапия** для глубинных ран (Сатурн, Плутон)

### Для доказух:

1. **Принять** что нечего доказывать
2. **Ценность изначальна** - не зависит от усилий
3. **Перестать** компенсировать слабость гиперкомпенсацией

### Для местей:

1. **Прощение** = освобождение от яда
2. **Трансформация боли** в силу (Плутон)
3. **Прервать цикл** передачи травмы (Хирон)

---

## Теоретическая база

Основан на:

- **Юнгианская психология**: Тень, архетипы, индивидуация
- **Подводный**: Глубинные интерпретации аспектов (10-20 страниц на аспект)
- **Павел Андреев**: Архетипический анализ, психология + астрология
- **Hillman**: Архетипическая психология

**НЕ предсказания**, а **понимание паттернов** для психотерапевтической работы.

---

## Примеры интерпретаций

### Карта: 8 Jan 1982, 13:40, Saratov

**Ключевые паттерны:**

1. **Sun □ Saturn** → Демон недостойности
   - Отцовская фигура критична
   - Перфекционизм как защита
   - Работа: разделить Я и достижения

2. **Moon ☍ Neptune** → Демон слияния
   - Иллюзии в отношениях
   - Потеря границ
   - Работа: укрепление границ, трезвость

3. **Mars в Libra** (падение) → Доказуха правоты
   - Постоянно нужно быть "правым"
   - Агрессия подавлена, выходит через спор
   - Работа: принять что можно быть неправым

4. **Pluto □ North Node** + другие Hard aspects → Месть
   - Долгая память на обиды
   - Стратегическая месть
   - Работа: прощение как освобождение

---

## API (Python)

```python
from modules.psychological_layer import get_psychological_analysis
from modules.astro_adapter import natal_calculation
from modules.interpretation_layer import facts_from_calculation

# Расчет карты
calc_result = natal_calculation(utc_dt, lat, lon, extended=True)
facts = facts_from_calculation(calc_result)

# Психологический анализ
psych = get_psychological_analysis(calc_result, facts)

# Результат
print(psych['shadows'])   # Тени
print(psych['demons'])    # Демоны
print(psych['impulses'])  # Позывы
print(psych['proofs'])    # Доказухи
print(psych['revenges'])  # Мести
```

---

## Этические границы ⚠️

**НЕ использовать для:**

- ❌ Диагностики психических заболеваний
- ❌ Предсказания событий ("вы умрете в 40")
- ❌ Запугивания ("у вас демон, платите 50K за очистку")
- ❌ Манипуляций

**Использовать для:**

- ✅ Самопознания
- ✅ Психотерапевтической работы
- ✅ Понимания паттернов
- ✅ Роста и трансформации

**Всегда добавлять:**

> "Астрология - инструмент самопознания, не приговор. Свобода воли определяет результат."

---

## Будущие улучшения

- [ ] Добавить архетипы планет (Mars = Воин, Venus = Любовница)
- [ ] Углубить демонов (50+ специфичных комбинаций)
- [ ] Методы работы с паттернами (медитации, аффирмации)
- [ ] Позитивная сторона теней (подавленная сила → дар)
- [ ] Интеграция с GPT-4 для персонализированных советов
- [ ] Терапевтический язык (trauma-informed approach)

---

**Автор:** Astro Engine  
**Версия:** 0.1.0  
**Дата:** 2026-02-16
